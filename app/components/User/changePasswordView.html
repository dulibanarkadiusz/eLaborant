<div class="modal-content" ng-init="init()">
    <div class="modal-header">
        <button type="button" class="close" ng-click="cancel()" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Zmień hasło</h4>
    </div>
    <form name="changePasswordForm" ng-submit="processForm()">
        <div class="modal-body"> 
            <div ng-show="IsResponseError">
                <div class="alert alert-danger"><strong>Błąd przy zmianie hasła:</strong>
                    {{ResponseErrorMessage}}
                </div>
            </div>
			
			<div class="form-group" ng-class="{'has-error': changePasswordForm.password.$invalid}">
                <userel for="password" class="control-userel">Hasło:</userel>
                <div class="input-group">
                    <span class="input-group-addon"><i class="fa fa-pencil-square-o" aria-hidden="true"></i></span>
                    <input type="password" name="password" class="form-control" ng-model="password.password" ng-pattern="/^[0-9A-zÀ-ž\s]{2,20}$/" placeholder="Hasło" required>
                </div>
                <div ng-show="changePasswordForm.password.$invalid && changePasswordForm.password.$touched" class="help-block with-errors">
                    Podaj hasło
                </div>
            </div>
			
			<div class="form-group" ng-class="{'has-error': changePasswordForm.password2.$invalid || password.password2 != password.password}">
                <userel for="password2" class="control-userel">Powtórz hasło:</userel>
                <div class="input-group">
                    <span class="input-group-addon"><i class="fa fa-pencil-square-o" aria-hidden="true"></i></span>
                    <input type="password" name="password2" class="form-control" ng-model="password.password2" ng-pattern="/^[0-9A-zÀ-ž\s]{2,20}$/" placeholder="Powtórz hasło" required>
                </div>
                <div ng-show="(changePasswordForm.password2.$invalid || password.password2 != password.password)&& changePasswordForm.password2.$touched" class="help-block with-errors">
                    Podane hasła różnią się
                </div>
            </div>
			
           
            
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-default" ng-click="cancel()" data-dismiss="modal">Anuluj</button>
            <button type="submit" class="btn btn-success" ng-disabled="changePasswordForm.password.$invalid || changePasswordForm.password2.$invalid || password.password2 != password.password">Zmień</button>
        </div>
    </form>
</div>   